<% layout('layouts/boilerplate') %>

<div class="container my-5">
  <h1 class="mb-4">ðŸ“Š Dashboard Admin</h1>

  <div class="row g-4 text-center">
    <div class="col-md-3">
      <a href="/admin/users" class="text-decoration-none text-dark">
        <div class="card shadow-sm h-100">
          <div class="card-body">
            <h5><i class="bi bi-people-fill"></i> Manajemen User</h5>
            <p class="fs-4 fw-bold"><%= totalUsers %> User</p>
          </div>
        </div>
      </a>
    </div>
    <div class="col-md-3">
      <a href="/admin/courses" class="text-decoration-none text-dark">
        <div class="card shadow-sm h-100">
          <div class="card-body">
            <h5><i class="bi bi-journals"></i> Kelas</h5>
            <p class="fs-4 fw-bold"><%= totalCourses %> Kelas</p>
          </div>
        </div>
      </a>
    </div>
    <div class="col-md-3">
      <a href="/admin/subjects" class="text-decoration-none text-dark">
        <div class="card shadow-sm h-100">
          <div class="card-body">
            <h5><i class="bi bi-book-fill"></i> Mata Kuliah</h5>
            <p class="fs-4 fw-bold"><%= totalSubjects %> Mata Kuliah</p>
          </div>
        </div>
      </a>
    </div>
    <div class="col-md-3">
      <a href="/admin/projects" class="text-decoration-none text-dark">
        <div class="card shadow-sm h-100">
          <div class="card-body">
            <h5><i class="bi bi-folder-fill"></i> Project Mahasiswa</h5>
            <p class="fs-4 fw-bold"><%= totalProjects %> Project</p>
          </div>
        </div>
      </a>
    </div>
  </div>

  <div class="my-5">
    <h4 class="mb-3">ðŸ“Œ Tugas Terbaru</h4>
    <% if (recentProjects.length > 0) { %>
    <ul class="list-group">
      <% recentProjects.forEach(p => { %>
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <strong><%= p.author?.name || 'Unknown' %></strong> -
          <a href="/projects/<%= p._id %>"><%= p.title %></a>
        </div>
        <span class="badge bg-secondary"><%= p.submittedAt?.toDateString() %></span>
      </li>
      <% }) %>
    </ul>
    <% } else { %>
    <p>Tidak ada project terbaru.</p>
    <% } %>
  </div>

  <div class="my-5">
    <h4>âš¡ Aksi Cepat</h4>
    <div class="d-flex flex-wrap gap-2">
      <a href="/admin/users/new" class="btn btn-primary btn-sm"><i class="bi bi-person-plus-fill"></i> Tambah User</a>
      <a href="/admin/courses/new" class="btn btn-success btn-sm"><i class="bi bi-plus-circle-fill"></i> Tambah Kelas</a>
      <a href="/admin/subjects/new" class="btn btn-info btn-sm"><i class="bi bi-plus-circle-fill"></i> Tambah Mata Kuliah</a>
      <a href="/admin/projects/new" class="btn btn-warning btn-sm"><i class="bi bi-folder-plus"></i> Tambah Project</a>
    </div>
  </div>
</div>
